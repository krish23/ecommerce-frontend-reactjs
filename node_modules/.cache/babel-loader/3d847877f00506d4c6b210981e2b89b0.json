{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/ecommerce-frontend/src/pages/Shop/Shop.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n//action\nimport { listProducts } from \"../../redux/Product/ProductAction\";\nimport PageTitle from \"../../components/Common/PageTitle\";\nimport Partner from \"../../components/Common/Partner\";\nimport Footer from \"../../components/Footer/Footer\";\nimport ShopArea from \"../../components/Shop/ShopArea\";\nimport QuickView from \"../../components/Products/QuickView\";\nimport cartContext from \"../../contexts/cart-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Shop(_ref) {\n  _s();\n  let {\n    match\n  } = _ref;\n  const keyword = match.params.keyword;\n  const pageNumber = match.params.pageNumber || 1;\n  const [product, setProduct] = useState({});\n  const dispatch = useDispatch();\n  const {\n    products,\n    page,\n    pages\n  } = useSelector(state => state.productReducer);\n  const context = useContext(cartContext);\n  const [quantity, setQuantity] = useState(1);\n  const [isOpen, setIsOpen] = useState(false);\n  useEffect(() => {\n    dispatch(listProducts(keyword, pageNumber));\n  }, [dispatch, keyword, pageNumber]);\n  const showQuickView = product => {\n    setIsOpen(true);\n    setProduct(product);\n  };\n  const closeModal = () => {\n    setIsOpen(false);\n    setProduct({});\n  };\n  const addToCart = product => {\n    let currentItem = {\n      _id: product._id,\n      name: product.name,\n      price: product.price,\n      type: product.type,\n      total_in_stock: product.total_in_stock,\n      image_public_id: product.image_public_id,\n      quantity\n    };\n    context.addItemToCart(currentItem);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shop-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      title: \"Shop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShopArea, {\n      products: products,\n      addToCart: addToCart,\n      pages: pages,\n      page: page,\n      keyword: keyword ? keyword : \"\",\n      showQuickView: showQuickView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(QuickView, {\n      isOpen: isOpen,\n      closeModal: closeModal,\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Shop, \"E4G0obJaBgywgItOH3kmodaWOY0=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Shop;\nexport default Shop;\nvar _c;\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"names":["useState","useEffect","useContext","useDispatch","useSelector","listProducts","PageTitle","Partner","Footer","ShopArea","QuickView","cartContext","Shop","match","keyword","params","pageNumber","product","setProduct","dispatch","products","page","pages","state","productReducer","context","quantity","setQuantity","isOpen","setIsOpen","showQuickView","closeModal","addToCart","currentItem","_id","name","price","type","total_in_stock","image_public_id","addItemToCart"],"sources":["/home/ubuntu/ecommerce-frontend/src/pages/Shop/Shop.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n//action\nimport { listProducts } from \"../../redux/Product/ProductAction\";\n\nimport PageTitle from \"../../components/Common/PageTitle\";\nimport Partner from \"../../components/Common/Partner\";\nimport Footer from \"../../components/Footer/Footer\";\nimport ShopArea from \"../../components/Shop/ShopArea\";\nimport QuickView from \"../../components/Products/QuickView\";\nimport cartContext from \"../../contexts/cart-context\";\n\nfunction Shop({ match }) {\n  const keyword = match.params.keyword;\n  const pageNumber = match.params.pageNumber || 1;\n  const [product, setProduct] = useState({});\n\n  const dispatch = useDispatch();\n  const { products, page, pages } = useSelector(\n    (state) => state.productReducer\n  );\n  const context = useContext(cartContext);\n  const [quantity, setQuantity] = useState(1);\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    dispatch(listProducts(keyword, pageNumber));\n  }, [dispatch, keyword, pageNumber]);\n\n  const showQuickView = (product) => {\n    setIsOpen(true);\n    setProduct(product);\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n    setProduct({});\n  };\n\n  const addToCart = (product) => {\n    let currentItem = {\n      _id: product._id,\n      name: product.name,\n      price: product.price,\n      type: product.type,\n      total_in_stock: product.total_in_stock,\n      image_public_id: product.image_public_id,\n      quantity,\n    };\n    context.addItemToCart(currentItem);\n  };\n\n  return (\n    <div className=\"shop-wrapper\">\n      <PageTitle title=\"Shop\" />\n      <ShopArea\n        products={products}\n        addToCart={addToCart}\n        pages={pages}\n        page={page}\n        keyword={keyword ? keyword : \"\"}\n        showQuickView={showQuickView}\n      />\n      \n      <Footer />\n      <QuickView isOpen={isOpen} closeModal={closeModal} product={product} />\n    </div>\n  );\n}\n\nexport default Shop;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;;AAEtD;AACA,SAASC,YAAY,QAAQ,mCAAmC;AAEhE,OAAOC,SAAS,MAAM,mCAAmC;AACzD,OAAOC,OAAO,MAAM,iCAAiC;AACrD,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,SAAS,MAAM,qCAAqC;AAC3D,OAAOC,WAAW,MAAM,6BAA6B;AAAC;AAEtD,SAASC,IAAI,OAAY;EAAA;EAAA,IAAX;IAAEC;EAAM,CAAC;EACrB,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAACD,OAAO;EACpC,MAAME,UAAU,GAAGH,KAAK,CAACE,MAAM,CAACC,UAAU,IAAI,CAAC;EAC/C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE1C,MAAMmB,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAM;IAAEiB,QAAQ;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGlB,WAAW,CAC1CmB,KAAK,IAAKA,KAAK,CAACC,cAAc,CAChC;EACD,MAAMC,OAAO,GAAGvB,UAAU,CAACS,WAAW,CAAC;EACvC,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAAC4B,MAAM,EAAEC,SAAS,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAE3CC,SAAS,CAAC,MAAM;IACdkB,QAAQ,CAACd,YAAY,CAACS,OAAO,EAAEE,UAAU,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACG,QAAQ,EAAEL,OAAO,EAAEE,UAAU,CAAC,CAAC;EAEnC,MAAMc,aAAa,GAAIb,OAAO,IAAK;IACjCY,SAAS,CAAC,IAAI,CAAC;IACfX,UAAU,CAACD,OAAO,CAAC;EACrB,CAAC;EAED,MAAMc,UAAU,GAAG,MAAM;IACvBF,SAAS,CAAC,KAAK,CAAC;IAChBX,UAAU,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC;EAED,MAAMc,SAAS,GAAIf,OAAO,IAAK;IAC7B,IAAIgB,WAAW,GAAG;MAChBC,GAAG,EAAEjB,OAAO,CAACiB,GAAG;MAChBC,IAAI,EAAElB,OAAO,CAACkB,IAAI;MAClBC,KAAK,EAAEnB,OAAO,CAACmB,KAAK;MACpBC,IAAI,EAAEpB,OAAO,CAACoB,IAAI;MAClBC,cAAc,EAAErB,OAAO,CAACqB,cAAc;MACtCC,eAAe,EAAEtB,OAAO,CAACsB,eAAe;MACxCb;IACF,CAAC;IACDD,OAAO,CAACe,aAAa,CAACP,WAAW,CAAC;EACpC,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,cAAc;IAAA,wBAC3B,QAAC,SAAS;MAAC,KAAK,EAAC;IAAM;MAAA;MAAA;MAAA;IAAA,QAAG,eAC1B,QAAC,QAAQ;MACP,QAAQ,EAAEb,QAAS;MACnB,SAAS,EAAEY,SAAU;MACrB,KAAK,EAAEV,KAAM;MACb,IAAI,EAAED,IAAK;MACX,OAAO,EAAEP,OAAO,GAAGA,OAAO,GAAG,EAAG;MAChC,aAAa,EAAEgB;IAAc;MAAA;MAAA;MAAA;IAAA,QAC7B,eAEF,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,eACV,QAAC,SAAS;MAAC,MAAM,EAAEF,MAAO;MAAC,UAAU,EAAEG,UAAW;MAAC,OAAO,EAAEd;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QACnE;AAEV;AAAC,GAxDQL,IAAI;EAAA,QAKMT,WAAW,EACMC,WAAW;AAAA;AAAA,KANtCQ,IAAI;AA0Db,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}